<nav class="navbar navbar-expand navbar-light fixed-top bg-white shadow">
  <div class="container d-flex justify-content-between align-items-center">
    <a routerLink="">
      <img
        src="https://img.freepik.com/premium-vector/abstract-vector-construction-dimensional-low-poly-design-background-innovation-technologies-abstract-illustration_570429-5713.jpg?w=740"
        width="70" height="70" alt="">
    </a>
    <div class="align-self-center navbar-collapse d-lg-flex justify-content-lg-between" id="templatemo_main_nav">
      <div class="flex-fill">
        <ul class="nav navbar-nav d-flex justify-content-between mx-lg-auto">
          <li class="nav-item">
            <a class="nav-link" routerLink=""><b> Danh Mục Sách </b></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/about"><b> Về Chúng Tôi </b></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/cart/detail"><b> Lịch Sử Mua Hàng </b></a>
          </li>
          <li class="nav-item" *ngIf="['ROLE_ADMIN'].indexOf(role)!==-1" [hidden]="!isLoggedIn">
            <a class="nav-link" routerLink="/statistic"><b> Thống Kê </b></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/contact"><b> Liên Hệ </b></a>
          </li>
        </ul>
      </div>
      <div class="navbar align-self-center d-flex">
        <a class="nav-icon position-relative" routerLink="/cart">
          <i class="fab fa-opencart fa-lg me-2" matTooltip="Giỏ Hàng"></i>
          <span class="position-absolute pb-3 top-0 left-100 translate-middle badge rounded-pill"
                style="color: #F44336">{{totalQuantity}}</span>
        </a>
        <button class="nav-icon position-relative text-decoration-none" style="border: none; background: none">
          <button mat-button [matMenuTriggerFor]="belowMenu">
            <i [hidden]="isLoggedIn" class="fas fa-user fa-lg"></i>
            <i [hidden]="!isLoggedIn" class="fas fa-user-check fa-lg"></i>
          </button>
          <mat-menu #belowMenu="matMenu" yPosition="below">
            <a routerLink="/register" class="text-decoration-none" [hidden]="isLoggedIn">
              <button mat-menu-item><i class="fas fa-user-plus"></i> &nbsp; Đăng Kí</button>
            </a>
            <a routerLink="/login" class="text-decoration-none" [hidden]="isLoggedIn">
              <button mat-menu-item><i class="fas fa-user"></i> &nbsp; Đăng Nhập</button>
            </a>
            <a routerLink="/view-info" class="text-decoration-none" [hidden]="!isLoggedIn">
              <button mat-menu-item><i class="fas fa-user-cog"></i> &nbsp; Thông Tin Tài Khoản</button>
            </a>
            <a routerLink="/login" class="text-decoration-none" [hidden]="!isLoggedIn">
              <button mat-menu-item (click)="logOut()" style="color: #F44336"><i class="fas fa-user-times"></i> &nbsp;
                Đăng Xuất
              </button>
            </a>
          </mat-menu>
          <span class="position-absolute top-0 left-100 translate-middle badge rounded-pill text-dark"
                [hidden]="!isLoggedIn">{{username}}</span>
          <span class="position-absolute top-0 left-100 translate-middle badge rounded-pill text-dark"
                [hidden]="isLoggedIn" matTooltip="Chưa Đăng Nhập"></span>
        </button>
      </div>
    </div>
    <button *ngIf="['ROLE_ADMIN', 'ROLE_USER'].indexOf(role)!==-1;" [hidden]="!isLoggedIn" mat-mini-fab color="primary" id="myBtn2" [routerLink]="['/chat/login']">
      <mat-icon>messenger</mat-icon>
    </button>
  </div>
</nav>
